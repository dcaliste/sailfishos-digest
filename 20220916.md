Repository activities from 2022-09-02 to 2022-09-16
---------------------------------------------------

Update of the base packages continues, with an upgrade of the multimedia handling (GStreamer and co., but also FFMPEG). We've also seen some interesting fixes coming in the repositories these last 15 days: **pvuorela** solving the impossibility to enter a password for protected PDF documents or **slava** plugging a CPU leak in Ofono. Speaking of telephony framework, **mal** has started pushing source code for "new radio" technology, a step for 5G support...

## Document stack

* `tracker`, desktop-neutral metadata database and search tool, [upgrade to 3.3.3](https://github.com/sailfishos/tracker/pull/7) from **mal** is now done, it was previously 3.2.1.

* `tracker-miners`, metadata extractors for tracker, [upgrade to 3.3.1](https://github.com/sailfishos/tracker-miners/pull/7) from **mal** has also been accepted.

* `poppler`, the PDF (rendering) library, **attah**'s work on to [upgrading to the latest upstream version 22.09.0](https://github.com/sailfishos/poppler/pull/2) has been merged. **attah** updated his initial pull request where the update was proposed for version 22.08.0, since the 22.09.0 was published during the review process.

* `sailfish-office`, the document application, **pvuorela** fixed an [issue blocking the input field for password protected document](https://github.com/sailfishos/sailfish-office/pull/191).

## Audio / video stack

* `ffmpeg`, a framework to encode and decode multimedia resources, **mal** updated and merged his pull request to [upgrade to the latest upstream version 5.1.1](https://github.com/sailfishos/ffmpeg/pull/3) (5.1.1 was published during the review process of the pull request while it was previously proposing to upgrade to 5.1.0).

* `thumbnaild`, the daemon generating image and video thumbnails, **mal** reworked the `libav` code to [adapt to API changes introduced by `ffmpeg` 5.0](https://github.com/sailfishos/thumbnaild/pull/4). **mal** also fix an issue when [the codec required more data by sending the `EAGAIN` error code](https://github.com/sailfishos/thumbnaild/pull/5).

* `droidmedia`, Android media wrapper library, **mal** is [exposing in a pull request the AV1 decoder](https://github.com/sailfishos/droidmedia/pull/106) from Android version 10. **elros34** is proposing to [add support for the `AudioSessionInfo` structure](https://github.com/sailfishos/droidmedia/pull/107) if it is present in the audio policy service file.

* `gst-droid`, plugin for GStreamer allowing to use hardware accelerated codecs, **mal** is [exposing the AV1 decoder to GStreamer](https://github.com/sailfishos/gst-droid/pull/78), disabled by default.

* `gstreamer`, a multimedia framework, **mal** has merged in his commit to [upgrade to latest upstream version 1.20.3](https://github.com/sailfishos/gstreamer/pull/3) (from version 1.18.5).

* `gst-plugins-base`, base plugins for GStreamer, **mal** is proposing to [update to version 1.20.3](https://github.com/sailfishos/gst-plugins-base/pull/4) from 1.18.5. He's also proposing the upgrade on the [`gst-plugins-good`](https://github.com/sailfishos/gst-plugins-good/pull/3), [`gst-plugins-bad`](https://github.com/sailfishos/gst-plugins-bad/pull/2) and [`gst-libav`](https://github.com/sailfishos/gst-libav/pull/2) repositories.

## Bluetooth stack

* `bluez5`, the Linux Bluetooth stack, **mal** has merged his pull request to [upgrade to version 5.65](https://github.com/sailfishos/bluez5/pull/8), current version being 5.63.

## Calendar stack

* `nemo-qml-plugin-calendar`, the QML bindings for calendar events, **dcaliste** is proposing the [extend the filter possibility of the `AgendaModel` to include only non all-day events](https://github.com/sailfishos/nemo-qml-plugin-calendar/pull/39). Previously, existing filters allow to include only all day events, or event to report only one event per notebook (used for instance in the month view to show the coloured dots per day).

## Telephony stack

* `ofono`, the telephony library, **slava** fixes [an issue with Ofono eating up CPU time because of unclosed file descriptors](https://github.com/sailfishos/ofono/pull/36). This may be a definitive fix for [this reported issue in the forum](https://forum.sailfishos.org/t/ofonod-cpu-guzzling/8524). **mal** is currently working on [adding support in a working branch](https://github.com/sailfishos/ofono/tree/jb58763) for the [NR technology](https://en.wikipedia.org/wiki/5G_NR).

* `libgofono`, a glib-based wrapper for ofono D-Bus interfaces, **mal** is also [doing the same here](https://github.com/sailfishos/libgofono/tree/jb58763).

* `liqofonoext`, a library for accessing Sailfish OS specific ofono extensions, **mal** is also [doing the same for the Qt bindings](https://github.com/sailfishos/libqofonoext/tree/jb58763).

## OS low-level

* `nfcd`, the daemon handling NFC communication, **slava** pushed several commits, fixing issues in the unit tests, adding new tests and [fixing a link issue](https://github.com/sailfishos/nfcd/commit/b1087bec3a3802aba0fbfa178ff55e1e98a1ba86) (making the app crashes when calling symbols that were marked as weak).

* `signon-plugin-oauth2`, a plugin to handle OAuth2 protocol, **tomin** [updated the plugin from version 0.15 o version 0.25](https://github.com/sailfishos/signon-plugin-oauth2/pull/1). He also cleaned up the spec file and drop the packaging for Qt4.

* `busybox`, a single binary which includes versions of a large number of system commands, **direc85** is proposing a pull request to [both print Unicode characters in e.g. `ls` output, and render them correctly in command input](https://github.com/sailfishos/busybox/pull/5), e.g. `mv` or `cp` filenames. See this [forum thread](https://forum.sailfishos.org/t/asian-character-support-in-terminal/12938) for more context and discussion.

## Python development

* `python3-pytz`, an interface to the timezone data in Python, **vige** [added this package to Sailfish OS](https://github.com/sailfishos/python3-pytz/pull/1).

* `python3-babel`, a python package for localisation, **vige** [added this package to Sailfish OS](https://github.com/sailfishos/python3-babel/pull/1).

* `python3-sphinx`, a documentation builder in python, **vige** [upgraded the package to 1.3.5](https://github.com/sailfishos/python3-sphinx/pull/2) and switch to submodule for repository handling.

## QML bindings

* `nemo-qml-plugin-dbus`, QML bindings for D-Bus, **pvuorela** merged an alternative to the pull request initiated by **herrie82** which [adapts the code for more recent versions of Qt](https://github.com/sailfishos/nemo-qml-plugin-dbus/pull/9).

## OS build

* `scratchbox2`, the cross-compilation tool used by the SDK, two pull requests from **martyone** previously merged, are [pending for reversion](https://github.com/sailfishos/scratchbox2/pull/18). **martyone** is mentioning that the task related to the initial commits has been put on hold for now.

* `meego-rpm-config`, specific rpm configuration files for Sailfish OS, **martyone** accepted the pull request from **direc85** who cherry-picked a patch to [strip more than 256 symbols](https://github.com/sailfishos/meego-rpm-config/pull/5) from packaged binaries and libraries. This helps building Whisperfish, as discussed in [this forum thread](https://forum.sailfishos.org/t/cant-strip-more-than-256-symbols/12522).

## Documentation

* `kf5bluezqt`, the KDE framework handling Bluetooth, in the process of allowing this BT library in Harbour, **vige** is proposing to [package the documentation](https://github.com/sailfishos/kf5bluezqt/pull/3) for publication.

* `docs.sailfishos.org`, the documentation website sources, various changes happened:
 - **thigg** proposition to [add a troubleshoot section to the QMLlive documentation page](https://github.com/sailfishos/docs.sailfishos.org/pull/103) has been published.
 - **rainemak** [removed references to WebKit for HTML rendering](https://github.com/sailfishos/docs.sailfishos.org/pull/110), like in email application.
 - **rainemak** mentions the [correct GLibC version](https://github.com/sailfishos/docs.sailfishos.org/pull/109), namely 2.30.
 - **rainemak** fixed the [links of QtBase repository and udisk2 one](https://github.com/sailfishos/docs.sailfishos.org/pull/113) in the architecture page.
 - **jovirkku** is proposing a new page listing [current OS issues](https://github.com/sailfishos/docs.sailfishos.org/pull/112).

## Software engineering

* `telepathy-gabble`, a Jabber/XMPP connection manager, **martyone** added a [patch to use deterministic numbers in the documentation](https://github.com/sailfishos/telepathy-gabble/pull/2).

* `speex`, a library handling a free codec for speech, **mal** is proposing to [drop one patch helping build reproducibility](https://github.com/sailfishos/speex/pull/3) since the feature is now handled by a new global rpm macro.

* `rpm`, a software package format and tools, **martyone** is adding a [patch so that generated *.pyc and *.pyo files are now using a fixed modification date](https://github.com/sailfishos/rpm/pull/9) from the source files they correspond to ; and adjust it later in a [second pull request](https://github.com/sailfishos/rpm/pull/10).

* `zstd`, short for Zstandard, is a fast lossless compression algorithm, **martyone** added a [patch to ensure build reproducibility by sorting the list of source files](https://github.com/sailfishos/zstd/pull/2) passed to the linker.

* `wireless-regdb`, the wireless regulatory database, **martyone** [cleanups a bit the spec file and added a patch to call python3](https://github.com/sailfishos/wireless-regdb/pull/2).

* `setup`, a  set of system configuration and setup files, **martyone** added a [patch to ensure build reproducibility](https://github.com/sailfishos/setup/pull/2).

* `libsolv`, a library for package dependency solving, **martyone** added a [patch to ensure build reproducibility](https://github.com/sailfishos/libsolv/pull/3) by re-enabling the `NDEBUG` macro.

* `libphonenumber`, a library for manipulating international phone numbers, **martyone** merged his patch to [ensure build reproducibility by sorting sources during build](https://github.com/sailfishos/libphonenumber/pull/2).

* `swi-prolog`, Prolog interpreter, **martyone** added a [patch to ensure build reproducibility](https://github.com/sailfishos/swi-prolog/pull/2).

* `build-compare`, scripts to find out if the build result differs to a former build, **martyone** added a [patch to ignore the checksum parts](https://github.com/sailfishos/build-compare/pull/4) (which vary depending on a temporary key).

## SDK

* `sailfish-qtcreator`, the Qt IDE, **deepbluev7**'s [patch on a compile script to fix an issue with an argument string being passed as a translation unit](https://github.com/sailfishos/sailfish-qtcreator/pull/534) has been merged in by **martyone**.

* `sdk-harbour-rpmvalidator`, the harbour validation scripts, **vige**, has added more APIs:
 - for accounts, with its [QML components](https://github.com/sailfishos/sdk-harbour-rpmvalidator/pull/163),
 - for Python with ([pytz package](https://github.com/sailfishos/sdk-harbour-rpmvalidator/pull/167). In spec file, mention `Requires: python3dist(pytz)`,
 - for telephony, with its [QML components](https://github.com/sailfishos/sdk-harbour-rpmvalidator/pull/162),
 - for Bluetooth access, with its [QML components](https://github.com/sailfishos/sdk-harbour-rpmvalidator/pull/164) and the lower level access framework [BluezQt from KDE](https://github.com/sailfishos/sdk-harbour-rpmvalidator/pull/166). Use a declaration like `Requires: qml(org.kde.bluezqt)` in the spec file.
 - and [a warning](https://github.com/sailfishos/sdk-harbour-rpmvalidator/pull/165) about the fact that these newly allowed QML components may not be as stable as harbour rules used to ensure.

* `sdk-setup`, part of the Sailfish SDK, **martyone** had a pull request [not to consider changed snapshot as outdated](https://github.com/sailfishos/sdk-setup/pull/332).

# App roundup

There's been a flurry of submissions to the Jolla Store this fortnight, not doubt the fruits of summer-coding campaigns, and something we're always happy to see. In this edition we're just going to focus on a smaller collection of them; we'll aim to work through the backlog in future newsletters. Nevertheless, it's nice to see both some of our regularly updated apps here today, alongside some apps that whilst not new, haven't been featured in the newsletter previously.

## Evento

Evento is another app with a lively update timetable. Created by Samuel Kron (**black_sheep_dev**), it allows you to either count up from or down to specific events. For example, fill it up with the Birthdays of your loved ones, and it will give you a running update on how many days left you have to find them that perfect gift. Or configure it with your date of birth and it will tell you how many days you've spent on this earth.

To put it another way, it's an app that can provide both practical value, and act as an idle curio. With the latest version you can set events to recur weekly, monthly or annually for even greater value.

By entering the release date of 30th August into the app itself, I can quickly see that &mdash; at time of going to press &mdash; version 0.3.1 of Evento has been available from the Jolla Store for a total of nine days. It's also available from [OpenRepos](https://openrepos.net/content/blacksheepdev/evento ) and [Chum](https://build.merproject.org/package/show/sailfishos:chum/harbour-evento ) (although the latter is still awaiting the latest release).

## Podcatcher

Although not a new app, this is the first time we've featured Podcatcher from Moritz Carmesin (**Carolus**) in the newsletter. It didn't get a mention back in [June 2021](https://forum.sailfishos.org/t/sailfish-community-news-3rd-june-pure-maps-amazfish/6673#amazfish-by-adam-pigg-3 ) as one of Adam Piggz's most-used apps though.

Podcatcher is a rather slick podcast subscription app, from which you can search for, subscribe to and automatically download podcasts on topics ranging from Anger to Zumba.

The ability to search the online catalogue is my favourite feature &mdash; it really is amazing how many niche yet fascinating podcast series there are out there &mdash; but even if you already have a regular set of podcasts you want to listen to, Podcatcher provides a simple way to download them, with many useful and easily configurable options.

Previous versions of the app delegated the task of playing the resulting audio files to your preferred external media player app. The latest version also incorporates its own media player which you can use instead. This built-in player works very well, but my own preference will be to stick with an external player.

Version 2.0.0 also improves memory usage, and the result is an app that worked very well in my testing. It's available from both the Jolla Store and [OpenRepos](https://openrepos.net/content/carolus/podcatcher-20-beta).

## Patience Deck

No doubt the latest update of Patience Deck from Tomi Leppänen (**tomin**) can be put down to a summer-coding blitz. Patience Deck allows you to play a large number of the many, many, *many* different variants of playing-card-based Solitaire that exist in the world. Honestly it's astonishing there are so many variants, and also astonishing how Patience Deck manages to support all of the different rules so seamlessly.

Besides the incredible breadth of games, some of the other nice features of Patience Deck include the multiple card styles that provide a helpful balance between authenticity and clarity; the clean interface and the smooth animation. One of my favourite aspects of the app is the way it provides clearly written rules for all of the games provided, so you don't have to go digging around the Internet (or &mdash; more likely in my case &mdash; spending hours dragging cards randomly in an attempt to reverse-engineered the rules).

The latest version offers up some nice improvements when searching amongst the 81 supported game types, as well as a nice animated card movement when you drop the cards in mid-air. They now swoosh to their intended location rather than snapping there immediately; a nice touch.

Version 0.9.1 of the ever-improving Patience Deck is available from the Jolla Store and [OpenRepos](https://openrepos.net/content/tomin/patience-deck ).

## Frome

The final app of our roundup, From from Rustem Abzalov (**arustg**) offers a simple way to calculate percentages. Frome gets a little slicker with each release, and the user interface has seen some small improvements in the latest version, combining the two menus (at the top and bottom) into just a single pull-up menu from the bottom. The app also gains Swedish translations courtesy of **eson57** and some bugfixes.

The app is pretty simple: enter a percentage *p*, hit the percentage key, enter a number *n*, hit the equals key. The resulting calculation (*n* - *p* \* *n*) is output to the screen, alongside the history of your previous entries.

You can still change the layout from left to right handed, and the About page still has a snazzy rotating icon. But while the app works perfectly well, I'd love it if there were an option to calculate a straight percentage (*p* \* *n*), either through the settings or with an extra button on the on-screen keyboard. It's this latter calculation I find myself needing most often in my daily life, and it would save me having to do an extra subtraction in my head each time.

From is nevertheless a nice app, improving all the time, and with version 0.4.2 available from both the Jolla Store and [OpenRepos](https://openrepos.net/content/arustg/frome ).

